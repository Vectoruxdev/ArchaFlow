@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ── ArchaFlow Warm Neutral Palette (Light) ── */
    --background: 37 33% 95%;       /* #F7F4EF warmNeutral050 — canvas */
    --foreground: 30 13% 10%;       /* #1C1916 warmNeutral900 */
    --card: 0 0% 100%;              /* #FFFFFF */
    --card-foreground: 30 13% 10%;  /* #1C1916 */
    --popover: 0 0% 100%;
    --popover-foreground: 30 13% 10%;
    --primary: 30 13% 10%;          /* #1C1916 — dark button */
    --primary-foreground: 46 59% 89%; /* #F0EAD6 warm cream */
    --secondary: 36 29% 93%;        /* #F2EEE8 warmNeutral100 */
    --secondary-foreground: 33 9% 44%; /* #7A7268 warmNeutral500 */
    --muted: 36 29% 93%;            /* #F2EEE8 */
    --muted-foreground: 33 10% 65%; /* #B0A89E warmNeutral400 */
    --accent: 36 29% 93%;           /* #F2EEE8 hover */
    --accent-foreground: 30 13% 10%;
    --destructive: 0 45% 45%;       /* #A84040 rust red */
    --destructive-foreground: 0 0% 100%;
    --border: 37 29% 86%;           /* #E4DDD2 warmNeutral200 */
    --input: 37 29% 86%;            /* #E4DDD2 */
    --ring: 32 54% 36%;             /* #8B5E2A amber600 — focus ring */
    --radius: 0.5rem;

    /* ── Brand / Amber ── */
    --af-brand: #8B5E2A;
    --af-brand-light: #F5EBD9;
    --af-brand-border: rgba(139,94,42,0.25);
    --af-brand-text: #8B5E2A;

    /* ── Backgrounds ── */
    --af-bg-canvas: #F7F4EF;
    --af-bg-outer: #E8E3DB;
    --af-bg-surface: #FFFFFF;
    --af-bg-surface-alt: #F2EEE8;
    --af-bg-surface-hover: #FDFAF5;
    --af-bg-input: #F7F4EF;
    --af-bg-sidebar: #1C1916;
    --af-bg-sidebar-surface: #262220;
    --af-bg-overlay: rgba(255,255,255,0.90);
    --af-bg-scrim: rgba(0,0,0,0.45);

    /* ── Text ── */
    --af-text-primary: #1C1916;
    --af-text-secondary: #7A7268;
    --af-text-muted: #B0A89E;
    --af-text-disabled: #D0C8BC;
    --af-text-inverse: #F0EAD6;
    --af-text-link: #8B5E2A;

    /* ── Borders ── */
    --af-border-default: #E4DDD2;
    --af-border-strong: #D0C8BC;
    --af-border-focus: #8B5E2A;
    --af-border-sidebar: #2E2A26;

    /* ── Status Colors ── */
    --af-success-text: #3F7A52;
    --af-success-bg: rgba(63,122,82,0.08);
    --af-success-border: rgba(63,122,82,0.25);
    --af-warning-text: #B07800;
    --af-warning-bg: #FFF5DC;
    --af-warning-border: rgba(176,120,0,0.25);
    --af-danger-text: #A84040;
    --af-danger-bg: rgba(168,64,64,0.06);
    --af-danger-border: rgba(168,64,64,0.22);
    --af-info-text: #2A5E8B;
    --af-info-bg: rgba(42,94,139,0.06);
    --af-info-border: rgba(42,94,139,0.20);

    /* ── Sidebar ── */
    --af-sidebar-text: #C8C0B4;
    --af-sidebar-muted: #5A5248;
    --af-sidebar-active: #C8902A;
    --af-sidebar-active-bg: rgba(200,144,42,0.15);

    /* ── Shadows ── */
    --af-shadow-card: 0 1px 4px rgba(0,0,0,0.03);
    --af-shadow-card-hover: 0 4px 16px rgba(0,0,0,0.07);
    --af-shadow-dropdown: 0 8px 32px rgba(0,0,0,0.12), 0 2px 8px rgba(0,0,0,0.06);
    --af-shadow-modal: 0 24px 60px rgba(0,0,0,0.18);

    /* ── Typography (next/font CSS variables with fallbacks) ── */
    --af-font-display: var(--font-cormorant), 'Georgia', 'Times New Roman', serif;
    --af-font-body: var(--font-inter), -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
    --af-font-mono: var(--font-ibm-plex-mono), 'Fira Code', 'Consolas', monospace;

    /* ── Radius ── */
    --af-radius-button: 9px;
    --af-radius-input: 9px;
    --af-radius-card: 14px;
    --af-radius-modal: 16px;
    --af-radius-dropdown: 10px;
    --af-radius-badge: 20px;
    --af-radius-sidebar: 8px;

    /* ── Motion ── */
    --af-duration-fast: 120ms;
    --af-duration-normal: 200ms;
    --af-duration-slow: 300ms;
    --af-spring: cubic-bezier(0.16, 1, 0.3, 1);

    /* ── Scrollbar ── */
    --af-scroll-thumb: #D8D0C4;
  }

  .dark {
    /* ── ArchaFlow Warm Neutral Palette (Dark) ── */
    --background: 60 3% 6%;          /* #111110 warmNeutral950 */
    --foreground: 46 59% 89%;        /* #F0EAD6 warm cream */
    --card: 60 5% 7%;                /* #141412 */
    --card-foreground: 46 59% 89%;
    --popover: 60 5% 7%;
    --popover-foreground: 46 59% 89%;
    --primary: 39 65% 47%;           /* #C8902A amber500 — amber button */
    --primary-foreground: 60 3% 4%;  /* #0E0E0C */
    --secondary: 60 8% 10%;          /* #1C1C18 */
    --secondary-foreground: 27 9% 57%; /* #9A9088 */
    --muted: 60 8% 10%;              /* #1C1C18 */
    --muted-foreground: 24 6% 33%;   /* #5A5450 */
    --accent: 60 8% 10%;
    --accent-foreground: 46 59% 89%;
    --destructive: 0 38% 60%;        /* #C07070 */
    --destructive-foreground: 60 3% 6%;
    --border: 60 5% 16%;             /* #2A2A26 */
    --input: 60 5% 16%;
    --ring: 39 65% 47%;              /* #C8902A amber — focus ring */

    /* ── Brand / Amber ── */
    --af-brand: #C8902A;
    --af-brand-light: rgba(200,144,42,0.12);
    --af-brand-border: rgba(200,144,42,0.30);
    --af-brand-text: #C8902A;

    /* ── Backgrounds ── */
    --af-bg-canvas: #111110;
    --af-bg-outer: #0A0A08;
    --af-bg-surface: #141412;
    --af-bg-surface-alt: #1C1C18;
    --af-bg-surface-hover: #1C1C18;
    --af-bg-input: #0E0E0C;
    --af-bg-sidebar: #0E0E0C;
    --af-bg-sidebar-surface: #1A1A16;
    --af-bg-overlay: rgba(20,20,18,0.92);
    --af-bg-scrim: rgba(0,0,0,0.65);

    /* ── Text ── */
    --af-text-primary: #F0EAD6;
    --af-text-secondary: #9A9088;
    --af-text-muted: #5A5450;
    --af-text-disabled: #3A3430;
    --af-text-inverse: #1C1916;
    --af-text-link: #C8902A;

    /* ── Borders ── */
    --af-border-default: #2A2A26;
    --af-border-strong: #3A3A30;
    --af-border-focus: #C8902A;
    --af-border-sidebar: #222220;

    /* ── Status Colors ── */
    --af-success-text: #7AAE7A;
    --af-success-bg: rgba(122,174,122,0.10);
    --af-success-border: rgba(122,174,122,0.25);
    --af-warning-text: #D4A830;
    --af-warning-bg: rgba(200,160,30,0.12);
    --af-warning-border: rgba(200,160,30,0.25);
    --af-danger-text: #C07070;
    --af-danger-bg: rgba(192,112,112,0.10);
    --af-danger-border: rgba(192,112,112,0.22);
    --af-info-text: #6A9EC8;
    --af-info-bg: rgba(106,158,200,0.08);
    --af-info-border: rgba(106,158,200,0.20);

    /* ── Sidebar ── */
    --af-sidebar-text: #C8C0B4;
    --af-sidebar-muted: #5A5248;
    --af-sidebar-active: #C8902A;
    --af-sidebar-active-bg: rgba(200,144,42,0.15);

    /* ── Shadows ── */
    --af-shadow-card: 0 1px 4px rgba(0,0,0,0.20);
    --af-shadow-card-hover: 0 4px 16px rgba(0,0,0,0.35);
    --af-shadow-dropdown: 0 8px 32px rgba(0,0,0,0.35), 0 2px 8px rgba(0,0,0,0.20);
    --af-shadow-modal: 0 24px 60px rgba(0,0,0,0.45);

    /* ── Scrollbar ── */
    --af-scroll-thumb: #2A2A24;
  }

  /* ── Density System ── */
  :root {
    --af-density-page-padding: 24px;
    --af-density-section-gap: 24px;
    --af-density-card-padding: 24px;
    --af-density-cell-py: 12px;
    --af-density-gap: 16px;
  }

  [data-density="compact"] {
    --af-density-page-padding: 16px;
    --af-density-section-gap: 16px;
    --af-density-card-padding: 16px;
    --af-density-cell-py: 8px;
    --af-density-gap: 12px;
  }

  [data-density="comfortable"] {
    --af-density-page-padding: 32px;
    --af-density-section-gap: 32px;
    --af-density-card-padding: 32px;
    --af-density-cell-py: 16px;
    --af-density-gap: 20px;
  }

  /* ── Accent Color Palettes ── */

  /* Forest */
  [data-accent="forest"] {
    --af-brand: #2D6A4F;
    --af-brand-light: #D8F3DC;
    --af-brand-border: rgba(45,106,79,0.25);
    --af-brand-text: #2D6A4F;
    --af-text-link: #2D6A4F;
    --af-border-focus: #2D6A4F;
    --af-sidebar-active: #52B788;
    --af-sidebar-active-bg: rgba(82,183,136,0.15);
    --ring: 153 40% 33%;
  }
  .dark[data-accent="forest"] {
    --af-brand: #52B788;
    --af-brand-light: rgba(82,183,136,0.12);
    --af-brand-border: rgba(82,183,136,0.30);
    --af-brand-text: #52B788;
    --af-text-link: #52B788;
    --af-border-focus: #52B788;
    --af-sidebar-active: #52B788;
    --af-sidebar-active-bg: rgba(82,183,136,0.15);
    --ring: 153 46% 51%;
  }

  /* Slate */
  [data-accent="slate"] {
    --af-brand: #475569;
    --af-brand-light: #E2E8F0;
    --af-brand-border: rgba(71,85,105,0.25);
    --af-brand-text: #475569;
    --af-text-link: #475569;
    --af-border-focus: #475569;
    --af-sidebar-active: #94A3B8;
    --af-sidebar-active-bg: rgba(148,163,184,0.15);
    --ring: 215 16% 47%;
  }
  .dark[data-accent="slate"] {
    --af-brand: #94A3B8;
    --af-brand-light: rgba(148,163,184,0.12);
    --af-brand-border: rgba(148,163,184,0.30);
    --af-brand-text: #94A3B8;
    --af-text-link: #94A3B8;
    --af-border-focus: #94A3B8;
    --af-sidebar-active: #94A3B8;
    --af-sidebar-active-bg: rgba(148,163,184,0.15);
    --ring: 215 25% 65%;
  }

  /* Rust */
  [data-accent="rust"] {
    --af-brand: #9A3412;
    --af-brand-light: #FFEDD5;
    --af-brand-border: rgba(154,52,18,0.25);
    --af-brand-text: #9A3412;
    --af-text-link: #9A3412;
    --af-border-focus: #9A3412;
    --af-sidebar-active: #EA580C;
    --af-sidebar-active-bg: rgba(234,88,12,0.15);
    --ring: 18 79% 34%;
  }
  .dark[data-accent="rust"] {
    --af-brand: #EA580C;
    --af-brand-light: rgba(234,88,12,0.12);
    --af-brand-border: rgba(234,88,12,0.30);
    --af-brand-text: #EA580C;
    --af-text-link: #EA580C;
    --af-border-focus: #EA580C;
    --af-sidebar-active: #EA580C;
    --af-sidebar-active-bg: rgba(234,88,12,0.15);
    --ring: 21 90% 48%;
  }

  /* Plum */
  [data-accent="plum"] {
    --af-brand: #7E22CE;
    --af-brand-light: #F3E8FF;
    --af-brand-border: rgba(126,34,206,0.25);
    --af-brand-text: #7E22CE;
    --af-text-link: #7E22CE;
    --af-border-focus: #7E22CE;
    --af-sidebar-active: #A855F7;
    --af-sidebar-active-bg: rgba(168,85,247,0.15);
    --ring: 271 76% 53%;
  }
  .dark[data-accent="plum"] {
    --af-brand: #A855F7;
    --af-brand-light: rgba(168,85,247,0.12);
    --af-brand-border: rgba(168,85,247,0.30);
    --af-brand-text: #A855F7;
    --af-text-link: #A855F7;
    --af-border-focus: #A855F7;
    --af-sidebar-active: #A855F7;
    --af-sidebar-active-bg: rgba(168,85,247,0.15);
    --ring: 271 91% 65%;
  }

  /* Stone */
  [data-accent="stone"] {
    --af-brand: #78716C;
    --af-brand-light: #F5F5F4;
    --af-brand-border: rgba(120,113,108,0.25);
    --af-brand-text: #78716C;
    --af-text-link: #78716C;
    --af-border-focus: #78716C;
    --af-sidebar-active: #A8A29E;
    --af-sidebar-active-bg: rgba(168,162,158,0.15);
    --ring: 15 4% 47%;
  }
  .dark[data-accent="stone"] {
    --af-brand: #A8A29E;
    --af-brand-light: rgba(168,162,158,0.12);
    --af-brand-border: rgba(168,162,158,0.30);
    --af-brand-text: #A8A29E;
    --af-text-link: #A8A29E;
    --af-border-focus: #A8A29E;
    --af-sidebar-active: #A8A29E;
    --af-sidebar-active-bg: rgba(168,162,158,0.15);
    --ring: 20 6% 64%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  html {
    scroll-behavior: smooth;
  }
  body {
    @apply bg-background text-foreground;
    font-family: var(--af-font-body);
    font-feature-settings: "rlig" 1, "calt" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

@layer utilities {
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Design system scrollbar */
  .af-scroll {
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: var(--af-scroll-thumb) transparent;
  }
  .af-scroll::-webkit-scrollbar { width: 4px; }
  .af-scroll::-webkit-scrollbar-thumb { background: var(--af-scroll-thumb); border-radius: 4px; }

  /* Display font utility */
  .font-display {
    font-family: var(--af-font-display);
  }
  .font-mono-af {
    font-family: var(--af-font-mono);
  }
}

/* ── Keyframe Animations ── */

/* ArchaFlow design system animations */
@keyframes af-drop {
  from { opacity: 0; transform: translateY(-6px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes af-fade {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes af-slideUp {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes af-scale {
  from { opacity: 0; transform: scale(0.96) translateY(8px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}
@keyframes af-toast {
  from { opacity: 0; transform: translateX(-50%) translateY(12px); }
  to { opacity: 1; transform: translateX(-50%) translateY(0); }
}
@keyframes af-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
@keyframes af-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}
@keyframes af-skeleton {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/* Landing page animations */
@keyframes signal-pulse {
  0%, 100% { transform: scale(1); opacity: 0.75; }
  50% { transform: scale(2); opacity: 0; }
}
.animate-signal-pulse {
  animation: signal-pulse 2s ease-in-out infinite;
}

@keyframes spinCube {
  0% { transform: rotateX(-15deg) rotateY(0deg); }
  100% { transform: rotateX(-15deg) rotateY(360deg); }
}

@keyframes dash-flow {
  0% { stroke-dashoffset: 24; }
  100% { stroke-dashoffset: 0; }
}
.animate-dash-flow {
  animation: dash-flow 2s linear infinite;
}

@keyframes floatA {
  0%, 100% { transform: translateY(0px) translateX(0px); opacity: 0.7; }
  25% { transform: translateY(-8px) translateX(4px); opacity: 1; }
  75% { transform: translateY(4px) translateX(-4px); opacity: 0.5; }
}
@keyframes floatB {
  0%, 100% { transform: translateY(0px) translateX(0px); opacity: 0.6; }
  33% { transform: translateY(6px) translateX(-6px); opacity: 1; }
  66% { transform: translateY(-4px) translateX(3px); opacity: 0.5; }
}

@keyframes marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
.animate-marquee {
  animation: marquee 30s linear infinite;
}
